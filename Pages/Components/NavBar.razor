@code {

    [CascadingParameter] public PageState PageState { get; set; } = default!;

}

<nav class="navbar px-4 md:px-12 max-w-6xl mx-auto" x-data="{ desktopMenuOpen: false, mobileMenuOpen: false }">
    <div class="flex-1">
        <a href="/">
            <ApplicationLogo/>
        </a>
    </div>
    <div class="flex-none">
        <ul class="menu menu-horizontal px-1">
            @if (PageState.User.IsAuthenticated)
            {
                <li>
                    <details>
                        <summary>
                            @PageState.User.Name
                        </summary>
                        <ul class="p-2 bg-base-100 rounded-t-none z-10 right-0">
                            <li>
                                <a href="/profile/edit">Profile</a>
                            </li>
                            <li>
                                <form action="/logout" method="post" class="p-0 w-full">
                                    <button type="submit" class="px-4 py-2 w-full">
                                        Logout
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </details>
                </li>
                <li>
                    <li>
                        <a class="btn btn-primary" href="/projects/create">Create a project</a>
                    </li>
                </li>
            }
            else
            {
                <li>
                    <a href="/login">Login</a>
                </li>
                <li>
                    <a href="/register">Register</a>
                </li>
            }
        </ul>
    </div>
</nav>